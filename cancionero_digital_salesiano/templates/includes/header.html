{% load static %}
<div class="container-fluid px-3">
  <div class="d-flex justify-content-between align-items-center w-100 cabecera">
    <!-- Logo -->
    <a href="{% url 'index' %}" class="d-flex align-items-center text-white text-decoration-none logo">
      <img src="{% static 'images/logoPrincipal.png' %}" alt="Logo" class="img-fluid" style="max-height: 100px;">
    </a>

    <!-- Título centrado -->
    <h1 class="d-block text-center fw-bold m-0 flex-grow-1 titulo">
      Cancionero Salesiano
    </h1>

    <!-- Icono de usuario -->
    <div class="dropdown ms-auto icono">
      <a href="#" class="d-block text-white text-decoration-none" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-person-circle" style="font-size: 40px;"></i> <!-- Icono del usuario -->
      </a>
      <ul class="dropdown-menu dropdown-menu-end text-small">
        {% if user.is_authenticated %}
        <li><a class="dropdown-item" href="{% url 'account_profile' %}">Perfil</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="{% url 'account_logout' %}">Cerrar sesión</a></li>
        {% else %}
        <li><a class="dropdown-item" href="{% url 'account_login' %}">Iniciar Sesión</a></li>
        <li><a class="dropdown-item" href="{% url 'account_signup' %}">Registrarse</a></li>
        {% endif %}
      </ul>
    </div>

    <!-- Botón para móvil -->
    <button class="navbar-toggler d-md-none border-0 ms-2" type="button" data-bs-toggle="collapse"
      data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>


  <!-- Menú responsive -->
  <nav class="navbar navbar-expand-md mt-3 mt-md-0">
    <div class="collapse navbar-collapse d-flex justify-content-center" id="mainNavbar">
      <ul class="navbar-nav fs-5">
        <li class="nav-item">
          <a class="nav-link nav-anim text-white px-3 {% if request.path == '/' %}active{% endif %}"
            href="{% url 'index' %}">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link nav-anim text-white px-3 {% if request.path == '/canciones/' %}active{% endif %}"
            href="{% url 'canciones' %}">Canciones</a>
        </li>
        <li class="nav-item">
          <a class="nav-link nav-anim text-white px-3 {% if request.path == '/lista/' %}active{% endif %}"
            href="{% url 'lista' %}">Listas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link nav-anim text-white px-3 {% if request.path == '/favoritos/' %}active{% endif %}"
            href="{% url 'favoritos' %}">Favoritos</a>
        </li>
      </ul>
    </div>
  </nav>

</div>